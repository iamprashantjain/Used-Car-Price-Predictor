schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/components/data_ingestion.py
    deps:
    - path: params.yaml
      hash: md5
      md5: 4748832475ff5d3040279505052a76d2
      size: 1118
    - path: src/components/data_ingestion.py
      hash: md5
      md5: a35753def6650b9eccd5e2cbc4a75738
      size: 2921
    params:
      params.yaml:
        data_ingestion.categorical_cols:
        - make
        - model
        - variant
        - year
        - transmissionType
        - bodyType
        - fuelType
        - ownership
        - color
        - 360DegreeCamera
        - AlloyWheels
        - AppleCarplayAndroidAuto
        - Bluetooth
        - CruiseControl
        - GpsNavigation
        - InfotainmentSystem
        - LeatherSeats
        - ParkingAssist
        - PushButtonStart
        - RearAc
        - SpecialRegNo
        - Sunroof/Moonroof
        - TopModel
        - Tpms
        - VentilatedSeats
        data_ingestion.input_file_path: s3://prashant-mlops-bucket/cars24_v3.xlsx
        data_ingestion.numerical_cols:
        - odometer
        - fitnessAge
        - cashDownPayment
        - emiStartingValue
        - emiEndingValue
        - roiMinDiscounted
        - roiMaxDiscounted
        - roiMinOriginal
        - roiMaxOriginal
        - emiOriginalStartingValue
        - emiOriginalEndingValue
        - featureCount
        - avgEmi
        data_ingestion.random_state: 42
        data_ingestion.test_size: 0.2
    outs:
    - path: artifacts/data_ingestion/X_test.csv
      hash: md5
      md5: ffac7aaca73f5d1b7d418c700f182987
      size: 222926
    - path: artifacts/data_ingestion/X_train.csv
      hash: md5
      md5: 83d44feb51949888150c04c259baae2c
      size: 888239
    - path: artifacts/data_ingestion/y_test.csv
      hash: md5
      md5: 1389a2b784ed26f8b4d2234257b955d1
      size: 12077
    - path: artifacts/data_ingestion/y_train.csv
      hash: md5
      md5: 281d0b6feaee8dda74153b89d16fb733
      size: 48199
  data_transformation:
    cmd: python src/components/data_transformation.py
    deps:
    - path: artifacts/data_ingestion/X_test.csv
      hash: md5
      md5: ffac7aaca73f5d1b7d418c700f182987
      size: 222926
    - path: artifacts/data_ingestion/X_train.csv
      hash: md5
      md5: 83d44feb51949888150c04c259baae2c
      size: 888239
    - path: artifacts/data_ingestion/y_test.csv
      hash: md5
      md5: 1389a2b784ed26f8b4d2234257b955d1
      size: 12077
    - path: artifacts/data_ingestion/y_train.csv
      hash: md5
      md5: 281d0b6feaee8dda74153b89d16fb733
      size: 48199
    - path: src/components/data_transformation.py
      hash: md5
      md5: ef0665e46c6970b72ad5bbb7ac9927c7
      size: 3618
    outs:
    - path: artifacts/data_transformation/X_test_transformed.csv
      hash: md5
      md5: 4afb03e6c654811837b55db2ad967fed
      size: 10701667
    - path: artifacts/data_transformation/X_train_transformed.csv
      hash: md5
      md5: dfc6365de100ed7dc3f6a3d8bec7ec7e
      size: 42754012
    - path: artifacts/data_transformation/preprocessor.pkl
      hash: md5
      md5: 34b497721db79cf01f5ebf73879a558b
      size: 52129
    - path: artifacts/data_transformation/y_test.csv
      hash: md5
      md5: 1389a2b784ed26f8b4d2234257b955d1
      size: 12077
    - path: artifacts/data_transformation/y_train.csv
      hash: md5
      md5: 281d0b6feaee8dda74153b89d16fb733
      size: 48199
  model_training:
    cmd: python src/components/model_trainer.py
    deps:
    - path: artifacts/data_transformation/X_test_transformed.csv
      hash: md5
      md5: 4afb03e6c654811837b55db2ad967fed
      size: 10701667
    - path: artifacts/data_transformation/X_train_transformed.csv
      hash: md5
      md5: dfc6365de100ed7dc3f6a3d8bec7ec7e
      size: 42754012
    - path: artifacts/data_transformation/y_test.csv
      hash: md5
      md5: 1389a2b784ed26f8b4d2234257b955d1
      size: 12077
    - path: artifacts/data_transformation/y_train.csv
      hash: md5
      md5: 281d0b6feaee8dda74153b89d16fb733
      size: 48199
    - path: params.yaml
      hash: md5
      md5: 4748832475ff5d3040279505052a76d2
      size: 1118
    - path: src/components/model_trainer.py
      hash: md5
      md5: 615cb6d0e5be7efd0b36b340a193d576
      size: 1646
    outs:
    - path: artifacts/model/model.pkl
      hash: md5
      md5: 9c099513ca0aeaadfae0319c61d73d22
      size: 5359057
  model_evaluation:
    cmd: python src/components/model_evaluation.py
    deps:
    - path: artifacts/data_transformation/X_test_transformed.csv
      hash: md5
      md5: 4afb03e6c654811837b55db2ad967fed
      size: 10701667
    - path: artifacts/data_transformation/y_test.csv
      hash: md5
      md5: 1389a2b784ed26f8b4d2234257b955d1
      size: 12077
    - path: artifacts/model/model.pkl
      hash: md5
      md5: 9c099513ca0aeaadfae0319c61d73d22
      size: 5359057
    - path: src/components/model_evaluation.py
      hash: md5
      md5: cdcddf406d1b5b852f7bd85d91bb8770
      size: 1793
  register_model:
    cmd: python src/components/register_model.py
    deps:
    - path: src/components/register_model.py
      hash: md5
      md5: d3e669e92d757334ed2002cee51e6102
      size: 2365
