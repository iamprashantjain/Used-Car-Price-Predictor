schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/components/data_ingestion.py
    deps:
    - path: params.yaml
      hash: md5
      md5: 1d131954af3314f9dc7c80837defbe31
      size: 1105
    - path: src/components/data_ingestion.py
      hash: md5
      md5: c7af8033912358e484c4b83065957a01
      size: 3867
    params:
      params.yaml:
        data_ingestion.categorical_cols:
        - make
        - model
        - variant
        - year
        - transmissionType
        - bodyType
        - fuelType
        - ownership
        - color
        - 360DegreeCamera
        - AlloyWheels
        - AppleCarplayAndroidAuto
        - Bluetooth
        - CruiseControl
        - GpsNavigation
        - InfotainmentSystem
        - LeatherSeats
        - ParkingAssist
        - PushButtonStart
        - RearAc
        - SpecialRegNo
        - Sunroof/Moonroof
        - TopModel
        - Tpms
        - VentilatedSeats
        data_ingestion.input_file_path: s3://prashant-mlops-bucket/cars24_v3.xlsx
        data_ingestion.numerical_cols:
        - listingPrice
        - odometer
        - fitnessAge
        - cashDownPayment
        - emiStartingValue
        - emiEndingValue
        - roiMinDiscounted
        - roiMaxDiscounted
        - roiMinOriginal
        - roiMaxOriginal
        - emiOriginalStartingValue
        - emiOriginalEndingValue
        - featureCount
        - avgEmi
        data_ingestion.random_state: 42
        data_ingestion.test_size: 0.2
    outs:
    - path: artifacts/data_ingestion/X_test.csv
      hash: md5
      md5: 2a8d31f836daa28257197883dad9ca0a
      size: 11463672
    - path: artifacts/data_ingestion/X_train.csv
      hash: md5
      md5: 21148174d7895880cc7708a3ffba48ae
      size: 45693688
    - path: artifacts/data_ingestion/y_test.csv
      hash: md5
      md5: c5560f465520c8a79d4b90da7c4765ea
      size: 15035
    - path: artifacts/data_ingestion/y_train.csv
      hash: md5
      md5: 9b310e32c90f00aec296ce095f294b34
      size: 60023
  data_transformation:
    cmd: python src/components/data_transformation.py
    deps:
    - path: artifacts/data_ingestion/X_test.csv
      hash: md5
      md5: 2a8d31f836daa28257197883dad9ca0a
      size: 11463672
    - path: artifacts/data_ingestion/X_train.csv
      hash: md5
      md5: 21148174d7895880cc7708a3ffba48ae
      size: 45693688
    - path: artifacts/data_ingestion/y_test.csv
      hash: md5
      md5: c5560f465520c8a79d4b90da7c4765ea
      size: 15035
    - path: artifacts/data_ingestion/y_train.csv
      hash: md5
      md5: 9b310e32c90f00aec296ce095f294b34
      size: 60023
    - path: src/components/data_transformation.py
      hash: md5
      md5: a11cd6982685debf83dded965b662b02
      size: 3533
    outs:
    - path: artifacts/data_transformation/X_test_transformed.csv
      hash: md5
      md5: c2dd61af58a4b320aa8f2f16d0eac93a
      size: 57280265
    - path: artifacts/data_transformation/X_train_transformed.csv
      hash: md5
      md5: 8bc0c8e1eb0dd4d6900d43fe64664bc6
      size: 228938642
    - path: artifacts/data_transformation/preprocessor.pkl
      hash: md5
      md5: d4583e610724fbb6a90ae6883958112e
      size: 236960
    - path: artifacts/data_transformation/y_test.csv
      hash: md5
      md5: c5560f465520c8a79d4b90da7c4765ea
      size: 15035
    - path: artifacts/data_transformation/y_train.csv
      hash: md5
      md5: 9b310e32c90f00aec296ce095f294b34
      size: 60023
  model_training:
    cmd: python src/components/model_trainer.py
    deps:
    - path: artifacts/data_transformation/X_test_transformed.csv
      hash: md5
      md5: c2dd61af58a4b320aa8f2f16d0eac93a
      size: 57280265
    - path: artifacts/data_transformation/X_train_transformed.csv
      hash: md5
      md5: 8bc0c8e1eb0dd4d6900d43fe64664bc6
      size: 228938642
    - path: artifacts/data_transformation/y_test.csv
      hash: md5
      md5: c5560f465520c8a79d4b90da7c4765ea
      size: 15035
    - path: artifacts/data_transformation/y_train.csv
      hash: md5
      md5: 9b310e32c90f00aec296ce095f294b34
      size: 60023
    - path: params.yaml
      hash: md5
      md5: 1d131954af3314f9dc7c80837defbe31
      size: 1105
    - path: src/components/model_trainer.py
      hash: md5
      md5: 42fa92fd21e36c52fedb303fb3d2aa97
      size: 5033
    outs:
    - path: artifacts/model/model.pkl
      hash: md5
      md5: e00f12c436406fda1f255f2d9b8f081c
      size: 5361377
  model_evaluation:
    cmd: python src/components/model_evaluation.py
    deps:
    - path: artifacts/data_transformation/X_test_transformed.csv
      hash: md5
      md5: c2dd61af58a4b320aa8f2f16d0eac93a
      size: 57280265
    - path: artifacts/data_transformation/y_test.csv
      hash: md5
      md5: c5560f465520c8a79d4b90da7c4765ea
      size: 15035
    - path: artifacts/model/model.pkl
      hash: md5
      md5: e00f12c436406fda1f255f2d9b8f081c
      size: 5361377
    - path: src/components/model_evaluation.py
      hash: md5
      md5: cdcddf406d1b5b852f7bd85d91bb8770
      size: 1793
  register_model:
    cmd: python src/components/register_model.py
    deps:
    - path: src/components/register_model.py
      hash: md5
      md5: 132773e711065574229e34e51e926b0e
      size: 2298
